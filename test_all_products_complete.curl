# Test All Products with Complete Information Endpoint
# This endpoint returns all products with complete details

# Base URL - Update this to match your server URL
BASE_URL="http://localhost:3000"

echo "üß™ Testing All Products with Complete Information Endpoint"
echo "=========================================================="
echo ""

# Test 1: Basic request - Get all products
echo "‚úÖ Test 1: Get all products (basic)"
echo "-----------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 2: With pagination
echo "‚úÖ Test 2: Get products with pagination"
echo "--------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?page=1&limit=5" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 3: With sorting
echo "‚úÖ Test 3: Get products sorted by price (low to high)"
echo "----------------------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?sort=price_low_to_high&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 4: With price filter
echo "‚úÖ Test 4: Get products with price filter"
echo "----------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?minPrice=100&maxPrice=1000&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 5: With search
echo "‚úÖ Test 5: Get products with search"
echo "----------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?search=shirt&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 6: Trending products only
echo "‚úÖ Test 6: Get trending products only"
echo "------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?isTrending=true&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 7: In stock products only
echo "‚úÖ Test 7: Get in-stock products only"
echo "------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?inStock=true&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 8: Include disabled products
echo "‚úÖ Test 8: Get all products including disabled"
echo "---------------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?includeDisabled=true&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 9: Sort by rating
echo "‚úÖ Test 9: Get products sorted by rating"
echo "---------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?sort=rating&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

# Test 10: Multiple filters combined
echo "‚úÖ Test 10: Get products with multiple filters"
echo "---------------------------------------------"
curl -X GET "${BASE_URL}/api/products/all-complete?isTrending=true&inStock=true&sort=price_low_to_high&limit=3" \
  -H "Content-Type: application/json" \
  -w "\n\nHTTP Status: %{http_code}\nResponse Time: %{time_total}s\n" \
  -s
echo ""

echo "üéØ Test Summary:"
echo "================"
echo "‚úÖ Test 1: Basic request - Should return all products"
echo "‚úÖ Test 2: Pagination - Should return limited products"
echo "‚úÖ Test 3: Sorting - Should return sorted products"
echo "‚úÖ Test 4: Price filter - Should return filtered products"
echo "‚úÖ Test 5: Search - Should return matching products"
echo "‚úÖ Test 6: Trending filter - Should return trending products"
echo "‚úÖ Test 7: Stock filter - Should return in-stock products"
echo "‚úÖ Test 8: Include disabled - Should return all products"
echo "‚úÖ Test 9: Rating sort - Should return products sorted by rating"
echo "‚úÖ Test 10: Multiple filters - Should return filtered and sorted products"
echo ""
echo "üìù Query Parameters Available:"
echo "=============================="
echo "‚Ä¢ page: Page number (default: 1)"
echo "‚Ä¢ limit: Items per page (default: 20)"
echo "‚Ä¢ sort: Sorting option (newest, oldest, price_low_to_high, price_high_to_low, name_asc, name_desc, rating, trending)"
echo "‚Ä¢ enabled: Filter by enabled status (default: true)"
echo "‚Ä¢ includeDisabled: Include disabled products (default: false)"
echo "‚Ä¢ designerId: Filter by designer ID"
echo "‚Ä¢ categoryId: Filter by category ID"
echo "‚Ä¢ subCategoryId: Filter by subcategory ID"
echo "‚Ä¢ isTrending: Filter by trending status"
echo "‚Ä¢ inStock: Filter by stock status"
echo "‚Ä¢ minPrice: Minimum price filter"
echo "‚Ä¢ maxPrice: Maximum price filter"
echo "‚Ä¢ search: Search by product name"
echo ""
echo "üìä Response Structure:"
echo "====================="
echo "‚Ä¢ success: Boolean indicating success"
echo "‚Ä¢ message: Response message"
echo "‚Ä¢ data.products: Array of products with complete information"
echo "‚Ä¢ data.pagination: Pagination details"
echo "‚Ä¢ data.stats: Statistics about the products"
